<!DOCTYPE html><HTML lang="en"><head><meta charset="utf-8"/><meta content="width=device-width, initial-scale=1.0" name="viewport"/><title>Output Specification · DifferentialEquations.jl</title><link href="https://cdnjs.cloudflare.com/ajax/libs/normalize/4.2.0/normalize.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.5.0/styles/default.min.css" rel="stylesheet" type="text/css"/><link href="https://fonts.googleapis.com/css?family=Lato|Ubuntu+Mono" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" type="text/css"/><link href="../assets/documenter.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL=".."</script><script data-main="../assets/documenter.js" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.2.0/require.min.js"></script><script src="../../versions.js"></script><meta content="noindex" name="robots"/><script data-is-old-version="">document.addEventListener("DOMContentLoaded", function(){
    const div = document.createElement('div');
    div.setAttribute('style', 'position: fixed; bottom: 1em; right: 1em; z-index: 999; background-color: #ffaf9c; color: rgba(0, 0, 0, 0.7); border: 1px solid #d54625; border-radius: 4px; padding: 2em; text-align: center');
    const closer = document.createElement('div');
    closer.setAttribute('style', 'position: absolute; top: 0; right: 5px; padding: 5px; cursor: pointer; width: 12px; height: 12px;')
    // Icon by font-awesome (license: https://fontawesome.com/license, link: https://fontawesome.com/icons/times?style=solid)
    closer.innerHTML = '<svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="times" class="svg-inline--fa fa-times fa-w-11" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 352 512"><path fill="currentColor" d="M242.72 256l100.07-100.07c12.28-12.28 12.28-32.19 0-44.48l-22.24-22.24c-12.28-12.28-32.19-12.28-44.48 0L176 189.28 75.93 89.21c-12.28-12.28-32.19-12.28-44.48 0L9.21 111.45c-12.28 12.28-12.28 32.19 0 44.48L109.28 256 9.21 356.07c-12.28 12.28-12.28 32.19 0 44.48l22.24 22.24c12.28 12.28 32.2 12.28 44.48 0L176 322.72l100.07 100.07c12.28 12.28 32.2 12.28 44.48 0l22.24-22.24c12.28-12.28 12.28-32.19 0-44.48L242.72 256z"></path></svg>';
    closer.addEventListener('click', () => {
        document.body.removeChild(div)
    })
    const href = documenterBaseURL + '/../stable'
    div.innerHTML = 'This is an old version of the documentation. <br> Click <a href="' + href + '">here</a> to go to the newest version.';
    div.appendChild(closer)
    document.body.appendChild(div);
});
</script></head><body><nav class="toc"><a href="../index.html"><img alt="DifferentialEquations.jl logo" class="logo" src="../assets/logo.png"/></a><h1>DifferentialEquations.jl</h1><form action="../search.html" class="search"><select id="version-selector" onchange="window.location.href=this.value"><option disabled="disabled" selected="selected" value="#">Version</option></select><input id="search-query" name="q" placeholder="Search docs" type="text"/></form><ul><li><a class="toctext" href="../index.html">Home</a></li><li><span class="toctext">Tutorials</span><ul><li><a class="toctext" href="../tutorials/ode_example.html">Ordinary Differential Equations</a></li><li><a class="toctext" href="../tutorials/sde_example.html">Stochastic Differential Equations</a></li><li><a class="toctext" href="../tutorials/dde_example.html">Delay Differential Equations</a></li><li><a class="toctext" href="../tutorials/dae_example.html">Differential Algebraic Equations</a></li><li><a class="toctext" href="../tutorials/fempoisson_example.html">Poisson Equation Finite Element Method</a></li><li><a class="toctext" href="../tutorials/femheat_example.html">Heat Equation Finite Element Method</a></li><li><a class="toctext" href="../tutorials/femstochastic_example.html">Stochastic Finite Element Method</a></li></ul></li><li><span class="toctext">Basics</span><ul><li><a class="toctext" href="../basics/overview.html">Overview of DifferentialEquations.jl</a></li><li><a class="toctext" href="../basics/common_solver_opts.html">Common Solver Options</a></li><li><a class="toctext" href="../basics/solution.html">Solution Handling</a></li><li><a class="toctext" href="../basics/plot.html">Plot Functions</a></li><li><a class="toctext" href="../basics/integrator.html">Integrator Interface</a></li></ul></li><li><span class="toctext">Equation Types</span><ul><li><a class="toctext" href="../types/ode_types.html">ODE Types</a></li><li><a class="toctext" href="../types/sde_types.html">SDE Types</a></li><li><a class="toctext" href="../types/dde_types.html">DDE Types</a></li><li><a class="toctext" href="../types/dae_types.html">DAE Types</a></li><li><a class="toctext" href="../types/fem_types.html">FEM Types</a></li><li><a class="toctext" href="../types/stokes_types.html">Stokes Types</a></li></ul></li><li><span class="toctext">Solver Algorithms</span><ul><li><a class="toctext" href="../solvers/ode_solve.html">ODE Solvers</a></li><li><a class="toctext" href="../solvers/sde_solve.html">SDE Solvers</a></li><li><a class="toctext" href="../solvers/dde_solve.html">DDE Solvers</a></li><li><a class="toctext" href="../solvers/dae_solve.html">DAE Solvers</a></li><li><a class="toctext" href="../solvers/fempoisson_solve.html">FEM Poisson Solvers</a></li><li><a class="toctext" href="../solvers/femheat_solve.html">FEM Heat Solvers</a></li><li><a class="toctext" href="../solvers/fdmstokes_solve.html">Stokes Solvers</a></li></ul></li><li><span class="toctext">Additional Features</span><ul><li><a class="toctext" href="performance_overloads.html">Performance Overloads</a></li><li><a class="toctext" href="callback_functions.html">Event Handling and Callback Functions</a></li><li><a class="toctext" href="callback_library.html">Callback Library</a></li><li><a class="toctext" href="monte_carlo.html">Parallel Monte Carlo Simulations</a></li><li><a class="toctext" href="mesh.html">Meshes</a></li><li class="current"><a class="toctext" href="output_specification.html">Output Specification</a><ul class="internal"><li><a class="toctext" href="#Availability-1">Availability</a></li><li><a class="toctext" href="#Continuous-(Dense)-Output-1">Continuous (Dense) Output</a></li><li><a class="toctext" href="#Choosing-Intermediate-Locations-for-the-Solution-1">Choosing Intermediate Locations for the Solution</a></li><li><a class="toctext" href="#Manually-Turning-on-the-Calculation-1">Manually Turning on the Calculation</a></li><li><a class="toctext" href="#Timeseries-Specifications-1">Timeseries Specifications</a></li></ul></li><li><a class="toctext" href="progress_bar.html">Juno Progress Bar Integration</a></li></ul></li><li><span class="toctext">Analysis Tools</span><ul><li><a class="toctext" href="../analysis/parameterized_functions.html">ParameterizedFunctions</a></li><li><a class="toctext" href="../analysis/parameter_estimation.html">Parameter Estimation</a></li><li><a class="toctext" href="../analysis/sensitivity.html">Sensitivity Analysis</a></li><li><a class="toctext" href="../analysis/uncertainty_quantification.html">Uncertainty Quantification</a></li><li><a class="toctext" href="../analysis/dev_and_test.html">Algorithm Development and Testing</a></li></ul></li></ul></nav><article id="docs"><header><nav><ul><li>Additional Features</li><li><a href="output_specification.html">Output Specification</a></li></ul><a class="edit-page" href="https://github.com/JuliaDiffEq/DiffEqDocs.jl/tree/6984679888983d324304df0b3f20620212ac259d/docs/src/features/output_specification.md"><span class="fa"></span> Edit on GitHub</a></nav><hr/></header><h1><a class="nav-anchor" href="#Output-Specification-1" id="Output-Specification-1">Output Specification</a></h1><p>DifferentialEquations.jl allows for specifying many forms of output. The default is "as verbose as possible", with items saved to give a continuous interpolating function as the output for ease of use. However, all of this functionality can be toned down or turned off in order to improve performance and reduce the memory usage. This page is to describe the different techniques which can be employed to change the output specification. It will be described from the top down: the most powerful is continuous (dense) output, which can instead be used for step-wise interpolation via <code>saveat</code>, to using no interpolations and only save the timeseries at <code>timeseries_steps</code>, to finally turning <code>save_timeseries=false</code> to only save the value at the end.</p><h2><a class="nav-anchor" href="#Availability-1" id="Availability-1">Availability</a></h2><p>Note that the <code>dense</code> and <code>saveat</code> functions (the functionality which involves interpolations) is currently only available for the ODE solvers. The other functionality is available with all solvers.</p><h2><a class="nav-anchor" href="#Continuous-(Dense)-Output-1" id="Continuous-(Dense)-Output-1">Continuous (Dense) Output</a></h2><p>Continuous output is designated by the keyword argument <code>dense</code>. This is only available for the ODE solvers.  By default this is turned on with <code>dense=true</code>. At every timepoint it saves the appropriate derivative approximations <code>sol.k</code> in order to produce an interpolating function which is accessed directly by calling the solution object. For example, if <code>sol</code> is the solution object, the value at time <code>t</code> can be found via</p><pre><code class="language-julia">sol(t)</code></pre><p>Many of the special Runge-Kutta methods include a high-order interpolant which matches or is one less than the order of the solver. By default the other methods use an Order 3 Hermite interpolation. Since the <code>k</code> array must be stored, this has the highest memory requirement. Note that for methods which use extra steps for the high order interpolant, the extra steps are lazy evaluated and thus only computing when an interpolated value in the appropriate interval is requested.</p><h2><a class="nav-anchor" href="#Choosing-Intermediate-Locations-for-the-Solution-1" id="Choosing-Intermediate-Locations-for-the-Solution-1">Choosing Intermediate Locations for the Solution</a></h2><p>If <code>dense</code> solving is too high of a memory cost, one can specify values to be interpolated during the solving via the array <code>saveat</code>. For example, if we are solving on the interval <code>tspan=[0,1]</code>, we can set <code>saveat=[0.5]</code> and the solver will ensure that an approximate value will be given at <code>t=0.5</code>. If this value is reached by the solver, it will be ignored. If the solver skips over this point, then an interpolated value is computed and saved for this point. This only requires saving the derivatives at two timesteps, and thus has a drastically reduced memory footprint than full dense output. Note that this, being associated with dense output, is only available for the ODE solvers.</p><p>One fact to note is that <code>saveat</code> can be used even when <code>save_timeseries=false</code>. If this is done, then the only values that will be saved are the values chosen in <code>saveat</code> (matching Sundial's default behavior).</p><p>Another way to specify an output location is to add that value to <code>tspan</code>. For example, we can force the solver to solve at <code>0.5</code> via <code>tspan=[0,0.5,1]</code>. However, notice that this will require that the solver actually hits <code>t=0.5</code>. In some cases this can slow down the solver by lowering the <code>dt</code> leading to extra steps. In some cases, this may be advantageous. For example, if you know that there is a large discontinuity at <code>t=0.5</code>, using <code>tspan=[0,0.5,1]</code> will force the solver to first solve on <code>[0,0.5]</code>, and then continue to solve on <code>[0.5,1]</code>. This will give a much better approximation by perfectly specifying the moment of discontinuity, and can help the solver through tough regions.</p><h2><a class="nav-anchor" href="#Manually-Turning-on-the-Calculation-1" id="Manually-Turning-on-the-Calculation-1">Manually Turning on the Calculation</a></h2><p>The dense output storage can be turned on even if <code>saveat</code> and <code>dense</code> are not being used by setting <code>calck=true</code>. This can be useful for event handling since this will allow one to do the interpolations in the event even if you aren't saving the information for continuous dense output.</p><h2><a class="nav-anchor" href="#Timeseries-Specifications-1" id="Timeseries-Specifications-1">Timeseries Specifications</a></h2><p>To further reduce the memory usage, we can control the density that the timeseries is saved at. By default <code>timeseries_steps=1</code>, meaning that every step is saved. Note that <code>timeseries_steps=1</code> is required for dense output to work correctly. If we change this value to <code>timeseries_steps=n</code>, then every <code>n</code>th step will be saved. Note that it will always have the first and final steps. We can turn off the saving of intermediate steps completely via the keyword <code>save_timeseries=false</code>. This can be used to minimize the memory usage.</p><footer><hr/><a class="previous" href="mesh.html"><span class="direction">Previous</span><span class="title">Meshes</span></a><a class="next" href="progress_bar.html"><span class="direction">Next</span><span class="title">Juno Progress Bar Integration</span></a></footer></article></body></HTML>